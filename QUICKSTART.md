# 快速入门指南 (Quick Start Guide)

## 5分钟快速开始

### 第一步: 准备环境

1. **安装 Qt**
   - 访问 https://www.qt.io/download
   - 下载 Qt 5.15+ 版本（Windows）
   - 在安装时选择 MSVC 2019/2022 编译器

2. **配置编译器**
   - 安装 Visual Studio 2017 或更新版本
   - 确保已安装 C++ 开发工具

3. **验证环境**
   - 打开命令提示符
   - 输入 `qmake -v` 确认 Qt 已安装
   - 输入 `nmake --version` 确认编译器已安装

### 第二步: 打开项目

**方法 A: 使用 Qt Creator**
1. 打开 Qt Creator
2. File → Open File or Project
3. 选择 `AutoFileCleaner.pro`
4. 选择 MSVC 编译器和 Qt 版本
5. 点击 Configure Project

**方法 B: 使用命令行**
```batch
cd QtDemo
qmake AutoFileCleaner.pro -spec win32-msvc
```

### 第三步: 编译项目

**在 Qt Creator 中**:
- 点击底部的 "Build" 按钮，或按 Ctrl+B

**在命令行中**:
```batch
nmake

# 如果只想编译 Release 版本
nmake release

# 如果只想编译 Debug 版本
nmake debug
```

或运行提供的脚本:
```batch
build.bat
```

### 第四步: 运行应用

**在 Qt Creator 中**:
- 点击绿色的 "Run" 按钮，或按 Ctrl+R

**在命令行中**:
```batch
build\release\AutoFileCleaner.exe
```

或运行提供的脚本:
```batch
run.bat
```

## 首次使用

### 创建你的第一个清理任务

1. **打开应用**
   - 应用启动后会显示主窗口

2. **新建任务**
   - 点击 "新建任务" 按钮

3. **填写任务信息**
   - 任务名称: "清理临时文件"
   - 任务描述: "清理 Windows 临时文件夹"

4. **添加目标文件夹**
   - 点击 "添加文件夹"
   - 选择 `C:\Windows\Temp`
   - 点击 "确定"

5. **设置清理参数**
   - 清理阈值: 30 天（超过30天未访问的文件）
   - 执行时间: 02:00（每天凌晨2点）

6. **保存任务**
   - 确保 "启用此任务" 被选中
   - 点击 "确定" 保存

### 测试任务

1. **手动执行**
   - 选中刚创建的任务
   - 点击 "运行选中" 按钮
   - 查看执行结果

2. **查看日志**
   - 应用会显示删除了多少文件
   - 显示释放了多少空间

## 常用操作

### 编辑任务
1. 在任务列表中选择要编辑的任务
2. 点击 "编辑选中"
3. 修改任务参数
4. 点击 "确定" 保存

### 删除任务
1. 选择要删除的任务
2. 点击 "删除选中"
3. 确认删除

### 启用/禁用任务
- 选中任务，右键点击
- 或在编辑对话框中取消/勾选 "启用此任务"

### 运行所有任务
- 点击 "运行全部" 按钮
- 应用会依次执行所有已启用的任务

### 最小化到托盘
- 点击窗口的最小化按钮
- 应用会出现在系统托盘
- 双击托盘图标可恢复窗口

## 启用开机自启动

### 方法 1: 通过应用内设置
- 打开应用
- 进入 设置 菜单（需要实现）
- 勾选 "开机自启动"

### 方法 2: 手动配置
1. 将应用复制到固定位置（如 `C:\Program Files\AutoFileCleaner\`）
2. 按 `Win+R` 打开运行对话框
3. 输入 `shell:startup` 打开启动文件夹
4. 在该文件夹中创建应用的快捷方式

## 配置和数据文件

### 配置文件位置
```
%APPDATA%\AutoFileCleaner\
├── config.ini       # 应用设置
├── tasks.json       # 任务数据
└── logs/           # 日志文件
```

### 备份任务
```batch
# 复制 tasks.json 到安全位置
copy %APPDATA%\AutoFileCleaner\tasks.json D:\Backup\
```

### 恢复任务
```batch
# 从备份恢复
copy D:\Backup\tasks.json %APPDATA%\AutoFileCleaner\
```

## 故障排查

### 应用无法启动

**症状**: 点击 .exe 后没有反应

**解决方案**:
1. 检查是否安装了 Qt 运行库
2. 检查系统是否为 64 位
3. 尝试从命令行运行查看错误信息

### 文件没有被删除

**症状**: 相同的文件一直没被清理

**可能原因**:
1. 字阈值设置过大（如设置为 365 天）
2. 文件的访问时间不是最后修改时间
3. 文件被占用或权限不足

**解决方案**:
1. 降低清理阈值
2. 检查文件的访问权限
3. 查看应用日志

### 任务没有自动执行

**症状**: 到了执行时间但没有自动运行

**可能原因**:
1. 应用没有启动或被关闭了
2. 任务没有启用
3. 系统时间不对

**解决方案**:
1. 确保应用一直运行
2. 检查任务是否已启用
3. 检查系统日期和时间

## 注意事项

⚠️ **重要提醒**:
- 删除的文件**无法恢复**，请小心配置
- 建议先在测试文件夹上测试
- 定期备份重要数据
- 不要对系统文件夹使用默认规则

## 获得帮助

- 查看 [README.md](README.md) 了解更多功能
- 查看 [DEVELOPER.md](DEVELOPER.md) 了解开发细节
- 检查应用日志文件查找错误信息

## 下一步

现在你已经掌握了基础，可以：
- [ ] 创建多个不同的清理任务
- [ ] 配置开机自启动
- [ ] 监控清理结果
- [ ] 根据需要调整清理规则
- [ ] 定期检查和维护任务

祝你使用愉快！🎉
